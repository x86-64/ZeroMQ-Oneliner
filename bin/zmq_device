#!/usr/bin/perl 

BEGIN { unshift @INC, "./lib" };

use ZeroMQ::Oneliner::LibZMQ2;

use Getopt::Lazy
	'help|h' => 'Show help screen',
	-summary => 'Create ZeroMQ device',
	-usage => '%c %o bind-tcp://*:6666/pull bind-tcp://*:6667/push',
	;

GetOptions;
Getopt::Lazy::show_help() and exit 1 unless @ARGV;

my $sock1  = ZeroMQ::Oneliner::LibZMQ2->new($ARGV[0]);
my $sock2  = ZeroMQ::Oneliner::LibZMQ2->new($ARGV[1]);
my $device = ZeroMQ::Oneliner::LibZMQ2->new_device($sock1, $sock2);

