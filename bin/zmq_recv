#!/usr/bin/perl 

use lib 'lib';
use ZeroMQ::Oneliner;

unless(@ARGV){
	printf qq!$0 - Receive messages via zeromq socket
usage:  $0 [options..] tcp://*:6666/pull?opt=value
available sockets: %s
available options: %s
!,
		join(", ", ZeroMQ::Oneliner::available_sockets()),
		join(", ", ZeroMQ::Oneliner::available_options()),
	;
	exit 1;
}

my $sock = ZeroMQ::Oneliner->new(@ARGV);
while(my $line = <$sock>){
	print $line, "\n";
}
close $sock;
